@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Person(user, "User")
Container(apiGateway, "API Gateway", "Facade", "Handles user requests")
Container(authService, "Auth Service", "Microservice", "Works with AAA")
Container(userService, "User Service", "Microservice", "Handles user requests")
Container(chatService, "Chat Service", "Microservice", "Handles chat requests")

Container(subscriberService, "Subscriber Service", "Microservice", "Handles subscribe requests")

Rel(user, apiGateway, "HTTP")

Rel(apiGateway, authService, "gRPC: requests")
Rel(authService, userService, "gRPC: requests")

Rel(apiGateway, userService, "gRPC: requests")
Rel(apiGateway, subscriberService, "gRPC: requests")
Rel(apiGateway, chatService, "gRPC: requests")
@enduml